<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Universal Model for Angular, React, Vue and Svelte" />
    <meta name="keywords" content="Universal,Model,Angular,React,Vue,Svelte,State,Management" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Universal Model</title>
    <link href="https://fonts.googleapis.com/css?family=Red+Hat+Display:500&display=swap" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/066699e1d2.js" crossorigin="anonymous"></script>
    <style>
      body {
        color: white;
        margin: 0;
      }

      .backgroundImage {
        background-image: url('shutterstock_315351299.jpg');
        background-size: cover;
        position: fixed;
        height: 100vh;
        width: 100vw;
        z-index: -2;
      }

      a {
        color: white;
        text-decoration: none;
      }

      a.blue {
        color: #0088ff;
      }

      a:hover {
        color: #ff9d00;
      }

      .background {
        background-color: rgba(30, 30, 30, 0.4);
        position: fixed;
        height: 100%;
        width: 100%;
        z-index: -1;
      }

      header {
        align-items: center;
        display: flex;
        justify-content: center;
      }

      h1 {
        font-family: 'Red Hat Display', sans-serif;
        font-size: 64px;
        font-weight: bold;
        margin-right: 20px;
      }

      h1 .first {
        color: #0088ff;
      }

      h1 .second {
        color: #ff628c;
      }

      .tagline {
        color: white;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 26px;
        margin-bottom: 40px;
        margin-top: -30px;
        text-align: center;
      }

      .link {
        color: white;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 26px;
        margin-bottom: 15px;
        margin-left: 30px;
        text-align: center;
      }

      .button {
        border: 1px white solid;
        border-radius: 10px;
        color: white;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 14px;
        margin-left: 15px;
        padding-left: 8px;
        padding-top: 5px;
        padding-right: 8px;
        padding-bottom: 5px;
      }

      .icon {
        margin-right: 7px;
      }

      .content {
        width: 1024px;
        margin-left: auto;
        margin-right: auto;
        margin-top: 100px;
      }

      @media only screen and (min-width: 1280px) {
        .content {
          width: 1280px;
          margin-left: auto;
          margin-right: auto;
          margin-top: 100px;
        }
      }

      .tabs {
        color: white;
        display: inline-block;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 20px;
        margin-bottom: 35px;
      }

      .tab {
        cursor: pointer;
        padding-left: 20px;
        padding-right: 20px;
        padding-bottom: 10px;
      }

      .tab:hover {
        color: #ff9d00;
      }

      .tab.selected {
        cursor: default;
        border-bottom: 3px #3ad900 solid;
        color: #3ad900;
      }

      h2 {
        color: white;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 20px;
        font-weight: bold;
      }

      .codeBlock {
        border: 1px white solid;
        border-radius: 10px;
        color: white;
        background-color: rgba(20, 20, 20, 0.7);
        margin-bottom: 50px;
      }

      pre {
        padding-left: 15px;
      }

      code {
        font-size: 15.3px;
      }

      @media only screen and (min-width: 1280px) {
        code {
          font-size: 18px;
        }
      }

      code.orange {
        color: #ff9d00;
      }

      code.lightGreen {
        color: #80ffbb;
      }

      code.pink {
        color: #ff83a3;
      }

      code.yellow {
        color: #ffdd00;
      }

      code.green {
        color: #3ad900;
      }

      ul {
        color: white;
        font-family: 'Red Hat Display', sans-serif;
        font-size: 20px;
        font-weight: bold;
        display: block;
        list-style-type: disc;
        margin-bottom: 50px;
      }

      li {
        padding-bottom: 5px;
      }

      footer {
        font-family: 'Red Hat Display', sans-serif;
        font-size: 20px;
        margin-bottom: 25px;
      }

      footer div {
        text-align: center;
      }

      .text {
        font-family: 'Red Hat Display', sans-serif;
        font-size: 18px;
        margin-top: 15px;
        margin-bottom: 25px;
      }
    </style>
    <script>
      window.selectReactTab = function() {
        var selectedTab = document.querySelector('.tab.selected');
        selectedTab.classList.remove('selected');
        var reactTab = document.getElementById('reactTab');
        reactTab.classList.add('selected');
        var reactContent = document.getElementById('reactContent');
        reactContent.style.display = 'block';
        var angularContent = document.getElementById('angularContent');
        angularContent.style.display = 'none';
        var svelteContent = document.getElementById('svelteContent');
        svelteContent.style.display = 'none';
        var vueContent = document.getElementById('vueContent');
        vueContent.style.display = 'none';
      };

      window.selectAngularTab = function() {
        var selectedTab = document.querySelector('.tab.selected');
        selectedTab.classList.remove('selected');
        var angularTab = document.getElementById('angularTab');
        angularTab.classList.add('selected');
        var reactContent = document.getElementById('reactContent');
        reactContent.style.display = 'none';
        var angularContent = document.getElementById('angularContent');
        angularContent.style.display = 'block';
        var svelteContent = document.getElementById('svelteContent');
        svelteContent.style.display = 'none';
        var vueContent = document.getElementById('vueContent');
        vueContent.style.display = 'none';
      };

      window.selectSvelteTab = function() {
        var selectedTab = document.querySelector('.tab.selected');
        selectedTab.classList.remove('selected');
        var svelteTab = document.getElementById('svelteTab');
        svelteTab.classList.add('selected');
        var reactContent = document.getElementById('reactContent');
        reactContent.style.display = 'none';
        var angularContent = document.getElementById('angularContent');
        angularContent.style.display = 'none';
        var svelteContent = document.getElementById('svelteContent');
        svelteContent.style.display = 'block';
        var vueContent = document.getElementById('vueContent');
        vueContent.style.display = 'none';
      };

      window.selectVueTab = function() {
        var selectedTab = document.querySelector('.tab.selected');
        selectedTab.classList.remove('selected');
        var vueTab = document.getElementById('vueTab');
        vueTab.classList.add('selected');
        var reactContent = document.getElementById('reactContent');
        reactContent.style.display = 'none';
        var angularContent = document.getElementById('angularContent');
        angularContent.style.display = 'none';
        var svelteContent = document.getElementById('svelteContent');
        svelteContent.style.display = 'none';
        var vueContent = document.getElementById('vueContent');
        vueContent.style.display = 'block';
      };
    </script>
  </head>
  <body>
    <div class="backgroundImage"></div>
    <div class="background"></div>
    <header>
      <div><img width="150px" src="saturn.svg" /></div>
      <h1><span class="first">Universal</span> <span class="second">Model</span></h1>
    </header>
    <div class="tagline">Unified state management for Angular, React, Svelte and Vue.</div>
    <div class="link">
      Angular 2+
      <span class="button"
        ><a href="https://www.github.com/universal-model/universal-model-angular"
          ><i class="icon fab fa-github"></i>View on Github</a
        ></span
      >
    </div>
    <div class="link">
      React 16.8+
      <span class="button"
        ><a href="https://www.github.com/universal-model/universal-model-react"
          ><i class="icon fab fa-github"></i>View on Github</a
        ></span
      >
    </div>
    <div class="link">
      Svelte 3+
      <span class="button"
        ><a href="https://www.github.com/universal-model/universal-model-svelte"
          ><i class="icon fab fa-github"></i>View on Github</a
        ></span
      >
    </div>
    <div class="link">
      Vue 3+
      <span class="button"
        ><a href="https://www.github.com/universal-model/universal-model-vue"
          ><i class="icon fab fa-github"></i>View on Github</a
        ></span
      >
    </div>
    <div class="content">
      <div class="tabs">
        <span id="angularTab" class="tab selected" onclick="selectAngularTab()">ANGULAR</span>
        <span id="reactTab" class="tab" onclick="selectReactTab()">REACT</span>
        <span id="svelteTab" class="tab" onclick="selectSvelteTab()">SVELTE</span>
        <span id="vueTab" class="tab" onclick="selectVueTab()">VUE</span>
      </div>
      <div class="text">
        Universal model provides unified state management:
        store, states, actions, selectors and services are the same for every UI framework, only view parts differ.
      </div>
      <h2>Store</h2>
      <div class="codeBlock">
        <pre><code class="orange">const initialState = {
  todosState: createSubState(initialTodoListState)
};

export type State = typeof initialState;

const selectors = combineSelectors([
  createTodoListStateSelectors&lt;State&gt;()
]);

export default createStore(initialState, selectors);</code></pre>
      </div>
      <h2>State</h2>
      <div class="codeBlock">
        <pre><code class="orange">export interface Todo {
  name: string;
  isDone: boolean;
}

export default {
  todos: [] as Todo[],
  isFetchingTodos: false,
  hasTodosFetchFailure: false
};
</code></pre>
      </div>
      <h2>Selectors</h2>
      <div class="codeBlock">
        <pre><code class="orange">const createTodoListStateSelectors = &lt;T extends State&gt;() =&gt; ({
  shownTodos: (state: T) =&gt;
    state.todosState.todos.filter(
      (todo: Todo) =&gt;
        (state.todosState.shouldShowOnlyUnDoneTodos &amp;&amp; !todo.isDone) ||
        !state.todosState.shouldShowOnlyUnDoneTodos
    ),
  todoCount: (state: T) =&gt; state.todosState.todos.length,
  unDoneTodoCount: (state: T) =&gt; state.todosState.todos.filter((todo: Todo) =&gt; !todo.isDone).length
});</code></pre>
      </div>
      <h2>Actions</h2>
      <div class="codeBlock">
        <pre><code class="orange">export async function fetchTodos(): Promise&lt;void&gt; {
  const { todosState } = store.getState();

  todosState.isFetchingTodos = true;
  todosState.hasTodosFetchFailure = false;

  try {
    todosState.todos = await todoService.tryFetchTodos();
  } catch (error) {
    todosState.hasTodosFetchFailure = true;
  }

  todosState.isFetchingTodos = false;
}


export function removeTodo(todoToRemove: Todo): void {
  const { todosState } = store.getState();
  todosState.todos = todosState.todos.filter((todo: Todo) =&gt; todo !== todoToRemove);
}


export function toggleIsDoneTodo(todo: Todo): void {
  todo.isDone = !todo.isDone;
}</code></pre>
      </div>
      <div id="angularContent">
        <h2>View</h2>
        <div class="codeBlock">
          <pre><code class="lightGreen">@Component({
  selector: 'app-todo-list-view',
  template: `
    &lt;div&gt;
      &lt;div *ngIf=&quot;todosState.isFetchingTodos&quot;&gt;Fetching todos...&lt;/div&gt;
      &lt;div *ngIf=&quot;todosState.hasTodosFetchFailure; else todoList&quot;&gt;Failed to fetch todos&lt;/div&gt;
      &lt;ng-template #todoList&gt;
        &lt;ul&gt;
          &lt;li *ngFor=&quot;let todo of shownTodos&quot;&gt;
            &lt;input id=&quot;todo.name&quot; type=&quot;checkbox&quot; [checked]=&quot;todo.isDone&quot; (click)=&quot;toggleIsDoneTodo(todo)&quot; /&gt;
            &lt;label for=&quot;todo.name&quot;&gt;{{ todo.name }}&lt;/label&gt;
            &lt;button (click)=&quot;removeTodo(todo)&quot;&gt;Remove&lt;/button&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/ng-template&gt;
    &lt;/div&gt;
  `,
  styleUrls: []
})
export class TodoListComponent implements OnInit, OnDestroy {
  todosState: typeof initialTodosState;
  shownTodos: Todo[];
  toggleIsDoneTodo = toggleIsDoneTodo;
  removeTodo = removeTodo;

  constructor() {
    const [{ todosState }, { shownTodos }] = store.getStateAndSelectors();
    store.useStateAndSelectors(this, { todosState }, { shownTodos });
  }

  ngOnInit(): void {
    fetchTodos();
  }
}</code></pre>
        </div>
        <ul>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-angular"
              >installation, API and example</a
            >
          </li>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-angular-todo-app"
              >source code of full example</a
            >
          </li>
        </ul>
      </div>
      <div style="display: none" id="reactContent">
        <h2>View</h2>
        <div class="codeBlock">
          <pre><code class="pink">const TodoListView = () =&gt; {
  const [{ todosState }, { shownTodos }] = store.getStateAndSelectors();
  store.useStateAndSelectors([todosState], [shownTodos]);

  useEffect(() =&gt; {
    fetchTodos();
  }, []);

  let todoListContent;

  if (todosState.isFetchingTodos) {
    todoListContent = &lt;div&gt;Fetching todos...&lt;/div&gt;;
  } else if (todosState.hasTodosFetchFailure) {
    todoListContent = &lt;div&gt;Failed to fetch todos&lt;/div&gt;;
  } else {
    const todoListItems = shownTodos.value.map((todo: Todo) =&gt; (
      &lt;li key={todo.id}&gt;
        &lt;input
          id={todo.name}
          type=&quot;checkbox&quot;
          defaultChecked={todo.isDone}
          onChange={() =&gt; toggleIsDoneTodo(todo)}
        /&gt;
        &lt;label&gt;
          {todo.name}
        &lt;/label&gt;
        &lt;button onClick={() =&gt; removeTodo(todo)}&gt;Remove&lt;/button&gt;
      &lt;/li&gt;
    ));

    todoListContent = &lt;ul&gt;{todoListItems}&lt;/ul&gt;;
  }

  return (
    &lt;div&gt;
      {todoListContent}
    &lt;/div&gt;
  );
};</code></pre>
        </div>
        <ul>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-react"
              >installation, API and example</a
            >
          </li>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-react-todo-app"
              >source code of full example</a
            >
          </li>
        </ul>
      </div>
      <div style="display: none" id="svelteContent">
        <h2>View</h2>
        <div class="codeBlock">
          <pre><code class="yellow">&lt;script&gt;
  const [todosState] = store.useState('todos', [store.getState().todosState]);
  const [shownTodos] = store.useSelectors('todos', [store.getSelectors().shownTodos]);

  onMount(() =&gt; {
    fetchTodos();
  });
&lt;/script&gt;

&lt;div&gt;
  {#if $todosState.isFetchingTodos}
    &lt;div&gt;Fetching todos...&lt;/div&gt;
  {:else if $todosState.hasTodosFetchFailure}
    &lt;div&gt;Failed to fetch todos&lt;/div&gt;
  {:else}
    &lt;ul&gt;
      {#each $shownTodos as todo}
        &lt;li&gt;
          &lt;input
            id=&quot;{todo.name}&quot;
            type=&quot;checkbox&quot;
            bind:checked=&quot;{todo.isDone}&quot;
            on:click=&quot;{() =&gt; toggleIsDoneTodo(todo)}&quot; /&gt;
          &lt;label for=&quot;{todo.name}&quot;&gt;{todo.name}&lt;/label&gt;
          &lt;button on:click=&quot;{() =&gt; removeTodo(todo)}&quot;&gt;Remove&lt;/button&gt;
        &lt;/li&gt;
      {/each}
    &lt;/ul&gt;
  {/if}
&lt;/div&gt;</code></pre>
        </div>
        <ul>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-svelte"
              >installation, API and example</a
            >
          </li>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-svelte-todo-app"
              >source code of full example</a
            >
          </li>
        </ul>
      </div>
      <div style="display: none" id="vueContent">
        <h2>View</h2>
        <div class="codeBlock">
          <pre><code class="green">&lt;template&gt;
  &lt;div&gt;
    &lt;div v-if=&quot;todosState.isFetchingTodos&quot;&gt;Fetching todos...&lt;/div&gt;
    &lt;div v-else-if=&quot;todosState.hasTodosFetchFailure&quot;&gt;Failed to fetch todos&lt;/div&gt;
    &lt;ul v-else&gt;
      &lt;li v-for=&quot;todo in shownTodos&quot;&gt;
        &lt;input :id=&quot;todo.name&quot; type=&quot;checkbox&quot; :checked=&quot;todo.isDone&quot; @click=&quot;toggleIsDoneTodo(todo)&quot; /&gt;
        &lt;label :for=&quot;todo.name&quot;&gt;{{ userName }}: {{ todo.name }}&lt;/label&gt;
        &lt;button @click=&quot;removeTodo(todo)&quot;&gt;Remove&lt;/button&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot;&gt
export default {
  setup(): object {
    const [{ todosState }, { shownTodos }] = store.getStateAndSelectors();

    onMounted(() =&gt; {
      fetchTodos();
    });

    return {
      todosState,
      shownTodos,
      removeTodo,
      toggleIsDoneTodo
    };
  }
};
&lt;/script&gt;</code></pre>
        </div>
        <ul>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-svelte"
              >installation, API and example</a
            >
          </li>
          <li>
            See
            <a class="blue" href="https://www.github.com/universal-model/universal-model-svelte-todo-app"
              >source code of full example</a
            >
          </li>
        </ul>
      </div>
      <footer>
        <div>License MIT</div>
        <div>Copyright <i class="far fa-copyright"></i> 2020-Present Petri Silén</div>
      </footer>
    </div>
  </body>
</html>
